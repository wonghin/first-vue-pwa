<script setup lang="ts">
import { VueQueryDevTools } from "vue-query/devtools";
import MyLayout from "./layout/MyLayout.vue";
import { useLayoutStore } from "./hooks/useLayoutStore";
import { storeToRefs } from "pinia";
const layout = useLayoutStore();
const { isPwa } = storeToRefs(layout)


window.addEventListener("DOMContentLoaded", () => {
  let displayMode = "browser tab";


  if (window.matchMedia("(display-mode: standalone)").matches) {
    displayMode = "standalone";
    isPwa.value = true
    // layout.isPwa = true;
  } else if (displayMode = "browser tab") {
    isPwa.value = false;
  }
  // Log launch display mode to analytics
  console.log("DISPLAY_MODE_LAUNCH:", displayMode);


});



</script>


<template>
  <VueQueryDevTools />
  <router-view></router-view>
  <!-- <MyLayout /> -->
</template>
